<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global IME Bank - Enhanced Revenue Prediction System</title>
    <link rel="stylesheet" href="src/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body data-theme="light">
    <!-- Loading Screen -->
    <div id="loadingScreen" class="screen active">
        <div class="loading-container">
            <div class="bank-logo">
                <div class="logo-icon">
                    <i class="fas fa-university"></i>
                </div>
                <h1>Global IME Bank</h1>
                <p>Enhanced Revenue Prediction System</p>
            </div>
            <div class="loading-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="loading-text" id="loadingText">Initializing System...</div>
            </div>
        </div>
    </div>

    <!-- Login Screen -->
    <div id="loginScreen" class="screen">
        <div class="login-container">
            <div class="login-header">
                <div class="login-logo">
                    <i class="fas fa-university"></i>
                </div>
                <h1>Global IME Bank</h1>
                <p>Enhanced Revenue Prediction Portal</p>
            </div>
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="username" class="form-label">
                        <i class="fas fa-user"></i> Username
                    </label>
                    <input type="text" id="username" class="form-control" required>
                    <div class="error-message" id="usernameError"></div>
                </div>
                <div class="form-group">
                    <label for="password" class="form-label">
                        <i class="fas fa-lock"></i> Password
                    </label>
                    <input type="password" id="password" class="form-control" required>
                    <div class="error-message" id="passwordError"></div>
                </div>
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="rememberMe">
                        <span class="checkmark"></span>
                        Remember me
                    </label>
                </div>
                <button type="submit" class="btn btn--primary btn--full-width">
                    <i class="fas fa-sign-in-alt"></i> Sign In
                </button>
            </form>
            <div class="login-footer">
                <p>Secure Banking Analytics Platform</p>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="mainScreen" class="screen">
        <!-- Header -->
        <header class="main-header">
            <div class="container">
                <div class="header-content">
                    <div class="logo-section">
                        <i class="fas fa-university"></i>
                        <div class="logo-text">
                            <h2>Global IME Bank</h2>
                            <span class="subtitle">Enhanced Analytics Platform</span>
                        </div>
                    </div>
                    <div class="header-actions">
                        <button id="themeToggle" class="theme-toggle" title="Toggle theme">
                            <i class="fas fa-moon"></i>
                        </button>
                        <div class="user-info">
                            <i class="fas fa-user-circle"></i>
                            <span>Welcome, <span id="currentUser">Admin</span></span>
                        </div>
                        <button id="logoutBtn" class="btn btn--outline btn--sm" style="color: #fff;" onmouseover="this.style.color='#000';" onmouseout="this.style.color='#fff';">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="main-nav">
            <div class="container">
                <div class="nav-tabs">
                    <button class="nav-tab active" data-tab="dashboard">
                        <i class="fas fa-tachometer-alt"></i> Dashboard
                    </button>
                    <button class="nav-tab" data-tab="predictions">
                        <i class="fas fa-chart-line"></i> Revenue Predictions
                    </button>
                    <button class="nav-tab" data-tab="insights">
                        <i class="fas fa-analytics"></i> Advanced Insights
                    </button>
                    <button class="nav-tab" data-tab="reports">
                        <i class="fas fa-file-alt"></i> Reports
                    </button>
                    <button class="nav-tab" data-tab="settings">
                        <i class="fas fa-cog"></i> Settings
                    </button>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Tab -->
            <div id="dashboardTab" class="tab-content active">
                <div class="container">
                    <div class="dashboard-overview">
                        <h3>Dashboard Overview</h3>
                        <p>Welcome to your comprehensive banking analytics platform</p>
                        
                        <!-- KPI Cards -->
                        <div class="kpi-grid">
                            <div class="kpi-card">
                                <div class="kpi-icon">
                                    <i class="fas fa-money-bill-trend-up"></i>
                                </div>
                                <div class="kpi-content">
                                    <h4>Total Revenue</h4>
                                    <div class="kpi-value">Loading...</div>
                                    <!-- <div class="kpi-change positive">+8.3%</div> -->
                                </div>
                            </div>
                            <div class="kpi-card">
                                <div class="kpi-icon">
                                    <i class="fas fa-building-columns"></i>
                                </div>
                                <div class="kpi-content">
                                    <h4>Active Branches</h4>
                                    <div class="kpi-value">Loading...</div>
                                    <!-- <div class="kpi-change positive">+5</div> -->
                                </div>
                            </div>
                            <div class="kpi-card">
                                <div class="kpi-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="kpi-content">
                                    <h4>Total Customers</h4>
                                    <div class="kpi-value">Loading...</div>
                                    <!-- <div class="kpi-change positive">+12.5%</div> -->
                                </div>
                            </div>
                            <div class="kpi-card">
                                <div class="kpi-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="kpi-content">
                                    <h4>Growth Rate</h4>
                                    <div class="kpi-value">Loading...</div>
                                    <!-- <div class="kpi-change positive">+2.1%</div> -->
                                </div>
                            </div>
                        </div>

                        <!-- Quick Actions -->
                        <div class="quick-actions">
                            <h4>Quick Actions</h4>
                            <div class="action-buttons">
                                <button class="action-btn" data-action="predictions">
                                    <i class="fas fa-chart-line"></i>
                                    <span>New Prediction</span>
                                </button>
                                <button class="action-btn" data-action="insights">
                                    <i class="fas fa-chart-pie"></i>
                                    <span>View Insights</span>
                                </button>
                                <button class="action-btn" data-action="reports">
                                    <i class="fas fa-download"></i>
                                    <span>Export Report</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Revenue Predictions Tab -->
            <div id="predictionsTab" class="tab-content">
                <div class="container">
                    <div class="predictions-header">
                        <h3>Revenue Predictions</h3>
                        <p>Generate accurate revenue forecasts using advanced ML models</p>
                    </div>
                    
                    <div class="prediction-form-card card">
                        <div class="card__header">
                            <h4><i class="fas fa-sliders-h"></i> Prediction Parameters</h4>
                        </div>
                        <div class="card__body">
                            <form id="predictionForm">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="branchSelect" class="form-label">
                                            <i class="fas fa-building"></i> Select Branch
                                        </label>
                                        <select id="branchSelect" class="form-control" required>
                                            <option value="">Choose a branch...</option>
                                            <option value="branch_1">Dailekh Central</option>
                                            <option value="branch_2">Dang Branch</option>
                                            <option value="branch_3">Kathmandu Branch</option>
                                            <option value="branch_4">Kanchanpur Branch</option>
                                            <option value="branch_5">Salyan Branch</option>
                                            <option value="branch_6">Kalikot City</option>
                                            <option value="branch_7">Bara Branch</option>
                                            <option value="branch_8">Syangja Branch</option>
                                            <option value="branch_9">Kailali Branch</option>
                                            <option value="branch_10">Dadeldhura East</option>
                                            <option value="branch_11">Pyuthan City</option>
                                            <option value="branch_12">Dhanusha Branch</option>
                                            <option value="branch_13">Jhapa Branch</option>
                                            <option value="branch_14">Surkhet Branch</option>
                                            <option value="branch_15">Kalikot Central</option>
                                            <option value="branch_16">Kapilvastu Branch</option>
                                            <option value="branch_17">Dhading North</option>
                                            <option value="branch_18">Rautahat Branch</option>
                                            <option value="branch_19">Sunsari Branch</option>
                                            <option value="branch_20">Sarlahi East</option>
                                            <option value="branch_21">Kailali Branch</option>
                                            <option value="branch_22">Kaski Central</option>
                                            <option value="branch_23">Kavrepalanchok Branch</option>
                                            <option value="branch_24">Sarlahi West</option>
                                            <option value="branch_25">Salyan Branch</option>
                                            <option value="branch_26">Jumla Branch</option>
                                            <option value="branch_27">Dadeldhura Branch</option>
                                            <option value="branch_28">Sankhuwasabha Branch</option>
                                            <option value="branch_29">Kalikot City</option>
                                            <option value="branch_30">Pyuthan Branch</option>
                                            <option value="branch_31">Kapilvastu City</option>
                                            <option value="branch_32">Bajura Branch</option>
                                            <option value="branch_33">Dhading Branch</option>
                                            <option value="branch_34">Manang Branch</option>
                                            <option value="branch_35">Kailali Branch</option>
                                            <option value="branch_36">Dadeldhura Branch</option>
                                            <option value="branch_37">Dailekh Branch</option>
                                            <option value="branch_38">Jajarkot Branch</option>
                                            <option value="branch_39">Parsa Branch</option>
                                            <option value="branch_40">Dhankuta Branch</option>
                                            <option value="branch_41">Dhading Branch</option>
                                            <option value="branch_42">Rukum West Branch</option>
                                            <option value="branch_43">Kailali Branch</option>
                                            <option value="branch_44">Bhaktapur Branch</option>
                                            <option value="branch_45">Dailekh Branch</option>
                                            <option value="branch_46">Bajhang City</option>
                                            <option value="branch_47">Gulmi Branch</option>
                                            <option value="branch_48">Kailali Branch</option>
                                            <option value="branch_49">Manang Branch</option>
                                            <option value="branch_50">Rupandehi Branch</option>
                                            <option value="branch_51">Dhankuta Branch</option>
                                            <option value="branch_52">Bajhang Branch</option>
                                            <option value="branch_53">Terhathum Branch</option>
                                            <option value="branch_54">Dang Branch</option>
                                            <option value="branch_55">Bhaktapur Branch</option>
                                            <option value="branch_56">Dhading Branch</option>
                                            <option value="branch_57">Sankhuwasabha Central</option>
                                            <option value="branch_58">Salyan Branch</option>
                                            <option value="branch_59">Jumla Branch</option>
                                            <option value="branch_60">Rupandehi Branch</option>
                                            <option value="branch_61">Dailekh Branch</option>
                                            <option value="branch_62">Gulmi Branch</option>
                                            <option value="branch_63">Manang East</option>
                                            <option value="branch_64">Kavrepalanchok Branch</option>
                                            <option value="branch_65">Jumla Branch</option>
                                            <option value="branch_66">Chitwan Central</option>
                                            <option value="branch_67">Baitadi Branch</option>
                                            <option value="branch_68">Ilam Branch</option>
                                            <option value="branch_69">Rupandehi Branch</option>
                                            <option value="branch_70">Palpa Central</option>
                                            <option value="branch_71">Salyan Branch</option>
                                            <option value="branch_72">Taplejung North</option>
                                            <option value="branch_73">Gulmi Branch</option>
                                            <option value="branch_74">Rupandehi Branch</option>
                                            <option value="branch_75">Morang Branch</option>
                                            <option value="branch_76">Nawalparasi East Branch</option>
                                            <option value="branch_77">Sarlahi Branch</option>
                                            <option value="branch_78">Kailali Branch</option>
                                            <option value="branch_79">Bhaktapur Branch</option>

                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="monthSelect" class="form-label">
                                            <i class="fas fa-calendar"></i> Prediction Period
                                        </label>
                                        <select id="monthSelect" class="form-control" required>
                                            <option value="">Select period...</option>
                                            <option value="1">1 Month</option>
                                            <option value="2">2 Months</option>
                                            <option value="3">3 Months</option>
                                            <option value="4">4 Months</option>
                                            <option value="5">5 Months</option>
                                            <option value="6">6 Months</option>
                                            <option value="7">7 Months</option>
                                            <option value="8">8 Months</option>
                                            <option value="9">9 Months</option>
                                            <option value="10">10 Months</option>
                                            <option value="11">11 Months</option>
                                            <option value="12">12 Months</option>
                                        </select>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn--primary btn--lg">
                                    <i class="fas fa-magic"></i>
                                    <span class="btn-text">Generate Prediction</span>
                                    <span class="btn-loading hidden">
                                        <i class="fas fa-spinner fa-spin"></i> Processing...
                                    </span>
                                </button>
                            </form>
                        </div>
                    </div>

                    <!-- Results Section -->
                    <div id="predictionResults" class="prediction-results hidden">
                        <div class="results-header">
                            <h4 id="resultsTitle">Prediction Results</h4>
                            <div class="results-meta">
                                <span class="status status--success">
                                    <i class="fas fa-check-circle"></i> Model Accuracy: 87%
                                </span>
                                <span class="results-branch" id="selectedBranchName"></span>
                            </div>
                        </div>

                        <div class="results-grid">
                            <div class="chart-section card">
                                <div class="card__header">
                                    <h5><i class="fas fa-chart-area"></i> Revenue Trend Analysis</h5>
                                </div>
                                <div class="card__body">
                                    <div class="chart-container">
                                        <canvas id="revenueChart"></canvas>
                                    </div>
                                </div>
                            </div>

                            <div class="table-section card">
                                <div class="card__header">
                                    <h5><i class="fas fa-table"></i> Detailed Predictions</h5>
                                </div>
                                <div class="card__body">
                                    <div class="table-container">
                                        <table class="prediction-table">
                                            <thead>
                                                <tr>
                                                    <th>Month</th>
                                                    <th>Predicted Revenue</th>
                                                    <th>Confidence</th>
                                                    <th>Growth Rate</th>
                                                </tr>
                                            </thead>
                                            <tbody id="predictionTableBody"></tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Advanced Insights Tab -->
            <div id="insightsTab" class="tab-content">
                <div class="container">
                    <div class="insights-header">
                        <h3>Advanced Insights</h3>
                        <p>Deep analytics and comprehensive insights of prediction result</p>
                    </div>

                    <!-- Insights Sub-navigation -->
                    <div class="insights-subnav">
                        <button class="subnav-btn active" data-subtab="summary">
                            <i class="fas fa-eye"></i> Summary
                        </button>
                        <button class="subnav-btn" data-subtab="analysis">
                            <i class="fas fa-trending-up"></i> Detailed Analysis
                        </button>
                        <button class="subnav-btn" data-subtab="recommend">
                            <i class="fas fa-map-marked-alt"></i> Key Insights and Recommendations
                        </button>
                        <button class="subnav-btn" data-subtab="followup">
                            <i class="fas fa-brain"></i> Strategic Follow up Questions
                        </button>
                        <button class="subnav-btn" data-subtab="chatbot">
                            <i class="fas fa-shield-alt"></i> Follow up Chatbot
                        </button>
                    </div>

                    <!-- Summary Sub-tab -->
                     <div id="summarySubtab" class="subtab-content active">
                        <h2 style="margin-bottom: 24px;">Summary of Data and Predictions</h2>
                        <div class="summary-grid" id="summaryGrid">
                        </div>
                    </div>


                    <!-- Analysis Sub-tab -->
                    <div id="analysisSubtab" class="subtab-content">
                        <h2>Detailed Analysis</h2>
                        <div class="analysis-grid" id="analysisGrid">
                        </div>
                    </div>

                    <!-- recommend Sub-tab -->
                    <div id="recommendSubtab" class="subtab-content">
                    <section class="insights-section">
                    <h2>Key Insights and Recommendations</h2>
                        <div class="insights-grid" id="insightsGrid">
                        </div>
                    </section>
                    </div>

                    <!-- followup Sub-tab -->
                    <div id="followupSubtab" class="subtab-content">
                     <h2>Strategic Follow-up Questions</h2>
                        <div class="card">
                            <div class="card__body">
                                <div class="questions-list" id="questionsList">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- chatbot Sub-tab -->
                    <div id="chatbotSubtab" class="subtab-content">
                    <div id="centralChatInterface" class="central-chat-interface">
                            <div class="main-chat-header" id="mainChatHeader">
                                <div class="header-title">
                                    <i class="fas fa-robot"></i>
                                    <span>Global IME Bank Analytics Assistant</span>
                                </div>
                            </div>
                            <div class="main-chat-body" id="mainChatBody">
                                <div class="chat-message-area" id="chatMessageArea">
                                    <div class="banking-message bot-banking-message">
                                        <div class="banking-message-avatar">
                                            <i class="fas fa-robot"></i>
                                        </div>
                                        <div class="banking-message-content">
                                            <p>Hello! I'm your Global IME Bank Prediction Analysis Chatbox. Let me help you with analyzing your forcast and preditive analysis.</p>
                                            <span class="banking-message-time">Now</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="main-input-section">
                                    <input type="text" id="mainChatInput" class="main-chat-input" placeholder="Ask me anything about Global IME Bank analytics...">
                                    <button id="mainChatSend" class="main-chat-send">
                                        <i class="fas fa-paper-plane"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                       
                    </div>
                </div>
            </div>
 
            <!-- Reports Tab -->
            <div id="reportsTab" class="tab-content">
                <div class="container">
                    <div class="reports-header">
                        <h3>Reports & Export</h3>
                        <p>Generate and download comprehensive business reports</p>
                    </div>

                    <div class="reports-dashboard">
                        <div class="report-types">
                            <div class="report-card">
                                <div class="report-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="report-content">
                                    <h5>Revenue Analysis Report</h5>
                                    <p>Comprehensive revenue trends and predictions</p>
                                    <button class="btn btn--primary btn--sm">
                                        <i class="fas fa-download"></i> Generate PDF
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Tab -->
            <div id="settingsTab" class="tab-content">
                <div class="container">
                    <div class="settings-header">
                        <h3>Settings</h3>
                        <p>Configure your preferences and system settings</p>
                    </div>

                    <div class="settings-dashboard">
                        <div class="settings-sections">
                            <div class="settings-card">
                                <div class="card__header">
                                    <h5><i class="fas fa-palette"></i> Appearance</h5>
                                </div>
                                <div class="card__body">
                                    <div class="setting-item">
                                        <label class="setting-label">
                                            <i class="fas fa-moon"></i> Theme
                                        </label>
                                        <div class="theme-options">
                                            <button class="theme-option active" data-theme="light">
                                                <i class="fas fa-sun"></i> Light
                                            </button>
                                            <button class="theme-option" data-theme="dark">
                                                <i class="fas fa-moon"></i> Dark
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Chat Assistant --> 
    <div id="chatAssistant" class="chat-assistant hidden">
        <div class="chat-header" id="chatHeader">
            <div class="chat-title">
                <i class="fas fa-robot"></i>
                <span>Banking Assistant</span>
            </div>
            <div class="chat-controls">
                <button class="chat-minimize" id="chatMinimize">
                    <i class="fas fa-minus"></i>
                </button>
                <button class="chat-expand" id="chatExpand" style="display: none;">
                    <i class="fas fa-plus"></i>
                </button>
            </div>
        </div>
        <div class="chat-content" id="chatContent">
            <div class="chat-messages" id="chatMessages">
                <div class="chat-message bot-message">
                    <div class="message-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="message-content">
                        <p>Hello! I'm your banking assistant. I can help you with branch revenue, customer and data analysis. How can I assist you today?</p>
                        <p>Some Example Questions:</p>
                        <p>• What is the total revenue across all branches?</p>
                        <p>• Show me customer count by branch</p>
                        <p>• Which branch has the highest profit?</p>
                        <p>• What is the average revenue per branch?</p>
                        <p>• Compare performance between branches</p>
                        <p>• Show me product performance data</p>
                        <span class="message-time">Now</span>
                    </div>
                </div>
            </div>
            <div class="chat-input-container">
                <input type="text" id="chatInput" class="chat-input" placeholder="Ask me anything about banking analytics...">
                <button id="chatSend" class="chat-send">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Notifications -->
    <div id="notifications" class="notifications-container"></div>

    <script type="module" src="src/main.js"></script>
</body>
</html>